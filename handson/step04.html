<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Step 04 | ZCP Guide</title>
    <meta name="description" content="Documentation of CI/CD, Logging, Monitoring">
    
    
    <link rel="preload" href="/sam-zcp-lab/assets/css/0.styles.31eef4c3.css" as="style"><link rel="preload" href="/sam-zcp-lab/assets/js/app.9bcc68cf.js" as="script"><link rel="preload" href="/sam-zcp-lab/assets/js/6.2a82a5c9.js" as="script"><link rel="prefetch" href="/sam-zcp-lab/assets/js/10.4f8baafd.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/11.9ca7046d.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/12.25612515.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/13.657d1d46.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/14.a6299d9a.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/15.4945d81f.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/2.9800fe0c.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/3.f681b678.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/4.f2e5af8a.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/5.e3d4eab7.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/7.f7087cb7.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/8.315b996d.js"><link rel="prefetch" href="/sam-zcp-lab/assets/js/9.9474ee31.js">
    <link rel="stylesheet" href="/sam-zcp-lab/assets/css/0.styles.31eef4c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/sam-zcp-lab/" class="home-link router-link-active"><!----> <span class="site-name">ZCP Guide</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/sam-zcp-lab/" class="nav-link">Home</a></div><div class="nav-item"><a href="/sam-zcp-lab/cicd/" class="nav-link">CICD</a></div><div class="nav-item"><a href="/sam-zcp-lab/handson/step01.html" class="nav-link">Hands-On</a></div><div class="nav-item"><a href="/sam-zcp-lab/logging/" class="nav-link">Logging</a></div><div class="nav-item"><a href="/sam-zcp-lab/monitoring/" class="nav-link">Monitoring</a></div> <a href="https://github.com/cnpst/sam-zcp-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/sam-zcp-lab/" class="nav-link">Home</a></div><div class="nav-item"><a href="/sam-zcp-lab/cicd/" class="nav-link">CICD</a></div><div class="nav-item"><a href="/sam-zcp-lab/handson/step01.html" class="nav-link">Hands-On</a></div><div class="nav-item"><a href="/sam-zcp-lab/logging/" class="nav-link">Logging</a></div><div class="nav-item"><a href="/sam-zcp-lab/monitoring/" class="nav-link">Monitoring</a></div> <a href="https://github.com/cnpst/sam-zcp-lab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first collapsable"><p class="sidebar-heading"><span>CICD</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>CI/CD Hands-On</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/sam-zcp-lab/handson/step01.html" class="sidebar-link">Step 01</a></li><li><a href="/sam-zcp-lab/handson/step02.html" class="sidebar-link">Step 02</a></li><li><a href="/sam-zcp-lab/handson/step03.html" class="sidebar-link">Step 03</a></li><li><a href="/sam-zcp-lab/handson/step04.html" class="active sidebar-link">Step 04</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Logging</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Monitoring</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="step-04-canary-deploy"><a href="#step-04-canary-deploy" aria-hidden="true" class="header-anchor">#</a> Step 04. Canary Deploy</h1> <p>Canary Deploy 시나리오</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1. 기존의 서비스 중이던 Application Instance는 5개
2. 신규 기능을 추가하여, 정상동작 확인과 사용성을 확인 하기 위해 Canary 적용
3. 신규 버전의 Application Instance 1개를 배포
4. 기존 버전의  Instance 숫자를 4개로 줄임
5. 동작확인과 사용성 확인후 신규 버전으로 전체 서비스 교체
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="/sam-zcp-lab/assets/img/2019-01-26-19-32-02.f2ae7acc.png" alt></p> <h3 id="deployment-canary-yaml-작성"><a href="#deployment-canary-yaml-작성" aria-hidden="true" class="header-anchor">#</a> Deployment-canary.yaml 작성</h3> <ul><li>spec.strategy.type: RollUpdate</li></ul> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>cicd<span class="token punctuation">-</span>demo<span class="token punctuation">-</span>canary
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>cicd<span class="token punctuation">-</span>demo
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>cicd<span class="token punctuation">-</span>demo
  <span class="token key atrule">strategy</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> RollingUpdate
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>cicd<span class="token punctuation">-</span>demo
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">imagePullSecrets</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> harbor<span class="token punctuation">-</span>secret
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>cicd<span class="token punctuation">-</span>demo
        <span class="token key atrule">image</span><span class="token punctuation">:</span> labs<span class="token punctuation">-</span>registry.cloudzcp.io/<span class="token punctuation">[</span>edu1<span class="token punctuation">]</span>/spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>cicd<span class="token punctuation">-</span>demo<span class="token punctuation">:</span>prod
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> tomcat
        <span class="token key atrule">resources</span><span class="token punctuation">:</span>
          <span class="token key atrule">limits</span><span class="token punctuation">:</span>
            <span class="token key atrule">cpu</span><span class="token punctuation">:</span> 500m
            <span class="token key atrule">memory</span><span class="token punctuation">:</span> 512Mi
          <span class="token key atrule">requests</span><span class="token punctuation">:</span>
            <span class="token key atrule">cpu</span><span class="token punctuation">:</span> 10m
            <span class="token key atrule">memory</span><span class="token punctuation">:</span> 256Mi

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="pipeline-작성"><a href="#pipeline-작성" aria-hidden="true" class="header-anchor">#</a> Pipeline 작성</h3> <p>spring-boot-cicd-demo-dev-canary 이름으로 Pipeline작성</p> <p><a href="/sam-zcp-lab/handson/step02.html">Step 02 Documentation 참조</a></p> <ol><li>Pipeline Script Path 수정 : jenkins-pipeline/canary-pipeline</li></ol> <p><img src="/sam-zcp-lab/assets/img/2019-01-26-19-37-37.fc6888ac.png" alt></p> <ol start="2"><li>jenkins script 작성</li></ol> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code><span class="token annotation punctuation">@Library</span><span class="token punctuation">(</span><span class="token string">'retort-lib'</span><span class="token punctuation">)</span> <span class="token number">_</span>
<span class="token keyword">def</span> label <span class="token operator">=</span> <span class="token string gstring">&quot;jenkins-<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">{</span>UUID<span class="token operator">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span>
 
<span class="token keyword">def</span> ZCP_USERID <span class="token operator">=</span> <span class="token string">'edu01'</span>
<span class="token keyword">def</span> DOCKER_IMAGE <span class="token operator">=</span> <span class="token string">'edu01/spring-boot-cicd-demo'</span>
<span class="token keyword">def</span> K8S_NAMESPACE <span class="token operator">=</span> <span class="token string">'edu01'</span>
<span class="token keyword">def</span> VERSION <span class="token operator">=</span> ‘prod’
<span class="token keyword">def</span> TYPE <span class="token operator">=</span> ＇deployment‘
<span class="token keyword">def</span> DEPLOY_NAME <span class="token operator">=</span> ＇spring<span class="token operator">-</span>boot<span class="token operator">-</span>cicd<span class="token operator">-</span>demo‘ <span class="token comment">// Previous Deployment</span>
<span class="token punctuation">...</span>
        <span class="token function">stage</span><span class="token punctuation">(</span>＇DEPLOY＇<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">container</span><span class="token punctuation">(</span>＇kubectl＇<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// canary deployment 생성</span>
                kubeCmd<span class="token operator">.</span>apply file<span class="token punctuation">:</span> <span class="token string">'k8s/deployment-canary.yaml'</span><span class="token punctuation">,</span> namespace<span class="token punctuation">:</span> K8S_NAMESPACE<span class="token punctuation">,</span> wait<span class="token punctuation">:</span> <span class="token number">300</span>
                <span class="token comment">// 기존 deployment 의 Instance 수를 4개로 조정</span>
                kubeCmd<span class="token operator">.</span>scale type<span class="token punctuation">:</span> TYPE<span class="token punctuation">,</span> name<span class="token punctuation">:</span> DEPLOY_NAME<span class="token punctuation">,</span> replicas<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> namespace<span class="token punctuation">:</span> K8S_NAMESPACE
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">...</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ol start="3"><li>실행</li></ol> <p><img src="/sam-zcp-lab/assets/img/2019-01-26-19-40-13.98b1552e.png" alt></p> <h3 id="canary-deploy-조정"><a href="#canary-deploy-조정" aria-hidden="true" class="header-anchor">#</a> Canary Deploy 조정</h3> <h3 id="pipeline-작성-2"><a href="#pipeline-작성-2" aria-hidden="true" class="header-anchor">#</a> Pipeline 작성</h3> <p>spring-boot-cicd-demo-dev-adjustment 이름으로 Pipeline작성</p> <p><a href="/sam-zcp-lab/handson/step02.html">Step 02 Documentation 참조</a></p> <ol><li>Pipeline Script Path 수정 : jenkins-pipeline/canary-adjestment-pipeline</li></ol> <p><img src="/sam-zcp-lab/assets/img/2019-01-26-19-49-32.fa62f08e.png" alt></p> <ol start="2"><li>매개변수 추가</li></ol> <table><thead><tr><th style="text-align:center">매개변수 명</th> <th style="text-align:left">Default Value</th> <th style="text-align:left">설명</th></tr></thead> <tbody><tr><td style="text-align:center">ORIGIN_DEPLOYMENT_NAME</td> <td style="text-align:left">spring-boot-cicd-demo</td> <td style="text-align:left">기존에 배포된  Deployment 이름</td></tr> <tr><td style="text-align:center">CANARY_DEPLOYMENT_NAME</td> <td style="text-align:left">spring-boot-cicd-demo-canary</td> <td style="text-align:left">Canary 신규  Deployment 이름</td></tr> <tr><td style="text-align:center">ORIGIN_INSTANCE_COUNT</td> <td style="text-align:left"></td> <td style="text-align:left">Previous Instance  값</td></tr> <tr><td style="text-align:center">CANARY_INSTANCE_COUNT</td> <td style="text-align:left"></td> <td style="text-align:left">New Instance 값</td></tr></tbody></table> <ol start="3"><li>jenkins script 작성</li></ol> <div class="language-groovy line-numbers-mode"><pre class="language-groovy"><code><span class="token annotation punctuation">@Library</span><span class="token punctuation">(</span><span class="token string">'retort-lib'</span><span class="token punctuation">)</span> <span class="token number">_</span>
<span class="token keyword">def</span> label <span class="token operator">=</span> <span class="token string gstring">&quot;jenkins-<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">{</span>UUID<span class="token operator">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>&quot;</span>
 
<span class="token keyword">def</span> ZCP_USERID <span class="token operator">=</span> <span class="token string">'edu01'</span>
<span class="token keyword">def</span> K8S_NAMESPACE <span class="token operator">=</span> <span class="token string">'edu01'</span>
<span class="token keyword">def</span> TYPE <span class="token operator">=</span> <span class="token string">'deployment'</span>

<span class="token function">podTemplate</span><span class="token punctuation">(</span>label<span class="token punctuation">:</span>label<span class="token punctuation">,</span>
    serviceAccount<span class="token punctuation">:</span> <span class="token string gstring">&quot;zcp-system-sa-<span class="token expression"><span class="token punctuation">$</span><span class="token punctuation">{</span>ZCP_USERID<span class="token punctuation">}</span></span>&quot;</span><span class="token punctuation">,</span>
    containers<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token function">containerTemplate</span><span class="token punctuation">(</span>name<span class="token punctuation">:</span> <span class="token string">'kubectl'</span><span class="token punctuation">,</span> image<span class="token punctuation">:</span> <span class="token string">'lachlanevenson/k8s-kubectl'</span><span class="token punctuation">,</span> ttyEnabled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> command<span class="token punctuation">:</span> <span class="token string">'cat'</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token function">node</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">stage</span><span class="token punctuation">(</span><span class="token string">'kubectl'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">container</span><span class="token punctuation">(</span><span class="token string">'kubectl'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 기존 Deployment 의 Instance 수를 ORIGIN_INSTANCE_COUNT 값으로 변경</span>
                kubeCmd<span class="token operator">.</span>scale type<span class="token punctuation">:</span> TYPE<span class="token punctuation">,</span> name<span class="token punctuation">:</span> ORIGIN_DEPLOYMENT_NAME<span class="token punctuation">,</span> replicas<span class="token punctuation">:</span> ORIGIN_INSTANCE_COUNT<span class="token punctuation">,</span> namespace<span class="token punctuation">:</span> K8S_NAMESPACE
                <span class="token comment">// Canary Deployment 의 Instance 수를 CANARY_INSTANCE_COUNT 값으로 변경</span>
                kubeCmd<span class="token operator">.</span>scale type<span class="token punctuation">:</span> TYPE<span class="token punctuation">,</span> name<span class="token punctuation">:</span> CANARY_DEPLOYMENT_NAME<span class="token punctuation">,</span> replicas<span class="token punctuation">:</span> CANARY_INSTANCE_COUNT<span class="token punctuation">,</span> namespace<span class="token punctuation">:</span> K8S_NAMESPACE
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ol start="3"><li><p>실행</p> <p><img src="/sam-zcp-lab/assets/img/2019-01-26-19-50-28.1c1e13a1.png" alt></p></li></ol> <hr> <p></p><div class="table-of-contents"><ul><li><a href="#step-04.-canary-deploy">Step 04. Canary Deploy</a><ul><li><a href="#deployment-canary.yaml-%EC%9E%91%EC%84%B1">Deployment-canary.yaml 작성</a></li><li><a href="#pipeline-%EC%9E%91%EC%84%B1">Pipeline 작성</a></li><li><a href="#canary-deploy-%EC%A1%B0%EC%A0%95">Canary Deploy 조정</a></li><li><a href="#pipeline-%EC%9E%91%EC%84%B1">Pipeline 작성</a></li></ul></li></ul></div><p></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/cnpst/sam-zcp-lab/edit/master/docs/handson/step04.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/28/2019, 9:25:24 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/sam-zcp-lab/handson/step03.html" class="prev">
          Step 03
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/sam-zcp-lab/assets/js/app.9bcc68cf.js" defer></script><script src="/sam-zcp-lab/assets/js/6.2a82a5c9.js" defer></script>
  </body>
</html>
